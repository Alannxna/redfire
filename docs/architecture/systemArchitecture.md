# ğŸ—ï¸ RedFireç³»ç»Ÿæ•´ä½“æ¶æ„

## ğŸ“‹ æ¦‚è¿°

RedFireæ˜¯ä¸€ä¸ªåŸºäºå¾®æœåŠ¡æ¶æ„çš„é‡åŒ–äº¤æ˜“ç³»ç»Ÿï¼Œé‡‡ç”¨DDDï¼ˆé¢†åŸŸé©±åŠ¨è®¾è®¡ï¼‰æ€æƒ³ï¼Œæ”¯æŒå¤šç§äº¤æ˜“æ¥å£ï¼Œå…·å¤‡å®Œæ•´çš„é£é™©ç®¡ç†ä½“ç³»ã€‚

## ğŸ›ï¸ æ¶æ„å±‚æ¬¡

### 1. ç”¨æˆ·å±‚ (User Layer)
- **Webç”¨æˆ·**: é€šè¿‡æµè§ˆå™¨è®¿é—®äº¤æ˜“ç•Œé¢
- **ç§»åŠ¨ç”¨æˆ·**: ç§»åŠ¨ç«¯åº”ç”¨ç”¨æˆ·
- **ä¸“ä¸šäº¤æ˜“å‘˜**: ä¸“ä¸šäº¤æ˜“ç»ˆç«¯ç”¨æˆ·

### 2. å‰ç«¯å±‚ (Frontend Layer)
- **Webåº”ç”¨**: React + TypeScript + Ant Design
- **ç§»åŠ¨åº”ç”¨**: React Native
- **ç®¡ç†åå°**: ç³»ç»Ÿç®¡ç†å’Œç›‘æ§ç•Œé¢
- **ä¸“ä¸šäº¤æ˜“ç•Œé¢**: é«˜çº§äº¤æ˜“åŠŸèƒ½ç•Œé¢

### 3. APIç½‘å…³å±‚ (API Gateway Layer)
- **FastAPIç½‘å…³**: ä¸»è¦APIå…¥å£
- **WebSocketæœåŠ¡**: å®æ—¶æ•°æ®æ¨é€
- **è®¤è¯æˆæƒ**: JWT + OAuth2.0
- **è´Ÿè½½å‡è¡¡**: è¯·æ±‚åˆ†å‘å’Œé™æµ

### 4. åç«¯å±‚ (Backend Layer)
- **ä¸»äº¤æ˜“å¼•æ“**: æ ¸å¿ƒäº¤æ˜“é€»è¾‘æ§åˆ¶å™¨
- **äº‹ä»¶å¼•æ“**: äº‹ä»¶é©±åŠ¨æ¶æ„æ ¸å¿ƒ
- **ç­–ç•¥å¼•æ“**: é‡åŒ–ç­–ç•¥æ‰§è¡Œ
- **é£é™©å¼•æ“**: å®æ—¶é£é™©ç›‘æ§
- **æ•°æ®å¼•æ“**: å¸‚åœºæ•°æ®ç®¡ç†

### 5. æ•°æ®å±‚ (Data Layer)
- **PostgreSQL**: ä¸»æ•°æ®åº“ï¼Œå­˜å‚¨äº¤æ˜“æ•°æ®
- **Redis**: ç¼“å­˜å±‚ï¼Œæå‡æ€§èƒ½
- **InfluxDB**: æ—¶åºæ•°æ®åº“ï¼Œå­˜å‚¨å¸‚åœºæ•°æ®
- **MongoDB**: æ–‡æ¡£æ•°æ®åº“ï¼Œå­˜å‚¨é…ç½®å’Œæ—¥å¿—

### 6. å¤–éƒ¨æ¥å£å±‚ (External Interface Layer)
- **CTPæ¥å£**: æœŸè´§äº¤æ˜“æ¥å£
- **IBæ¥å£**: å›½é™…ç»çºªæ¥å£
- **OKEXæ¥å£**: åŠ å¯†è´§å¸æ¥å£
- **å¸‚åœºæ•°æ®æº**: å®æ—¶è¡Œæƒ…æ•°æ®

## ğŸ”„ æ•°æ®æµå‘

```
ç”¨æˆ·æ“ä½œ â†’ å‰ç«¯ç•Œé¢ â†’ APIç½‘å…³ â†’ åç«¯æœåŠ¡ â†’ æ•°æ®å­˜å‚¨
    â†“           â†“         â†“         â†“         â†“
å¸‚åœºæ•°æ® â†’ æ•°æ®å¼•æ“ â†’ äº‹ä»¶å¼•æ“ â†’ ç­–ç•¥å¼•æ“ â†’ äº¤æ˜“æ‰§è¡Œ
    â†“           â†“         â†“         â†“         â†“
å¤–éƒ¨æ¥å£ â†’ ç½‘å…³æ¥å£ â†’ äº¤æ˜“å¼•æ“ â†’ é£é™©æ§åˆ¶ â†’ ç»“æœåé¦ˆ
```

## ğŸ¯ æ ¸å¿ƒç‰¹æ€§

### é«˜å¯ç”¨æ€§
- å¾®æœåŠ¡æ¶æ„ï¼ŒæœåŠ¡ç‹¬ç«‹éƒ¨ç½²
- è´Ÿè½½å‡è¡¡å’Œæ•…éšœè½¬ç§»
- æ•°æ®åº“ä¸»ä»å¤åˆ¶

### é«˜æ€§èƒ½
- å¼‚æ­¥äº‹ä»¶å¤„ç†
- Redisç¼“å­˜ä¼˜åŒ–
- æ•°æ®åº“è¿æ¥æ± 

### å¯æ‰©å±•æ€§
- æ’ä»¶åŒ–æ¶æ„
- æ°´å¹³æ‰©å±•æ”¯æŒ
- æ¨¡å—åŒ–è®¾è®¡

### å®‰å…¨æ€§
- å¤šå±‚å®‰å…¨é˜²æŠ¤
- æ•°æ®åŠ å¯†ä¼ è¾“
- æƒé™æ§åˆ¶ä½“ç³»

## ğŸ”§ æŠ€æœ¯é€‰å‹

### å‰ç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: React 18 + TypeScript
- **UIåº“**: Ant Design
- **çŠ¶æ€ç®¡ç†**: Redux Toolkit
- **æ„å»ºå·¥å…·**: Vite + Turborepo

### åç«¯æŠ€æœ¯æ ˆ
- **è¯­è¨€**: Python 3.9+
- **æ¡†æ¶**: FastAPI
- **å¼‚æ­¥**: asyncio + aiohttp
- **æ¶ˆæ¯é˜Ÿåˆ—**: Redis + Celery

### æ•°æ®åº“æŠ€æœ¯æ ˆ
- **å…³ç³»å‹**: PostgreSQL 14+
- **ç¼“å­˜**: Redis 6+
- **æ—¶åº**: InfluxDB 2.x
- **æ–‡æ¡£**: MongoDB 5+

### è¿ç»´æŠ€æœ¯æ ˆ
- **å®¹å™¨åŒ–**: Docker + Kubernetes
- **ç›‘æ§**: Prometheus + Grafana
- **æ—¥å¿—**: ELK Stack
- **CI/CD**: GitHub Actions

## ğŸ“Š ç³»ç»Ÿæ¶æ„å›¾

```mermaid
graph TB
    User[ç”¨æˆ·å±‚] --> Frontend[å‰ç«¯å±‚]
    Frontend --> Gateway[APIç½‘å…³å±‚]
    Gateway --> Backend[åç«¯å±‚]
    Backend --> Data[æ•°æ®å±‚]
    Backend --> External[å¤–éƒ¨æ¥å£å±‚]
    
    subgraph Backend
        MainEngine[ä¸»äº¤æ˜“å¼•æ“]
        EventEngine[äº‹ä»¶å¼•æ“]
        StrategyEngine[ç­–ç•¥å¼•æ“]
        RiskEngine[é£é™©å¼•æ“]
        DataEngine[æ•°æ®å¼•æ“]
    end
    
    subgraph Data
        PG[PostgreSQL]
        Redis[Redis]
        Influx[InfluxDB]
        Mongo[MongoDB]
    end
```

## ğŸš€ éƒ¨ç½²æ¶æ„

### å¼€å‘ç¯å¢ƒ
- å•æœºéƒ¨ç½²ï¼Œæ‰€æœ‰æœåŠ¡è¿è¡Œåœ¨åŒä¸€å°æœºå™¨
- Docker Composeç®¡ç†æœåŠ¡
- æœ¬åœ°æ•°æ®åº“å’Œç¼“å­˜

### ç”Ÿäº§ç¯å¢ƒ
- Kubernetesé›†ç¾¤éƒ¨ç½²
- æœåŠ¡é«˜å¯ç”¨å’Œè´Ÿè½½å‡è¡¡
- æ•°æ®åº“é›†ç¾¤å’Œå¤‡ä»½ç­–ç•¥

### ç›‘æ§ä½“ç³»
- åº”ç”¨æ€§èƒ½ç›‘æ§ (APM)
- åŸºç¡€è®¾æ–½ç›‘æ§
- ä¸šåŠ¡æŒ‡æ ‡ç›‘æ§
- å‘Šè­¦å’Œé€šçŸ¥æœºåˆ¶

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

### å“åº”æ—¶é—´
- APIæ¥å£: < 100ms
- æ•°æ®åº“æŸ¥è¯¢: < 50ms
- å®æ—¶æ•°æ®æ¨é€: < 10ms

### ååé‡
- å¹¶å‘ç”¨æˆ·: 1000+
- è®¢å•å¤„ç†: 10000+ TPS
- æ•°æ®æŸ¥è¯¢: 50000+ QPS

### å¯ç”¨æ€§
- ç³»ç»Ÿå¯ç”¨æ€§: 99.9%
- æ•°æ®ä¸€è‡´æ€§: 99.99%
- æ•…éšœæ¢å¤æ—¶é—´: < 5åˆ†é’Ÿ

## ğŸ”® æœªæ¥è§„åˆ’

### çŸ­æœŸç›®æ ‡ (3ä¸ªæœˆ)
- å®Œå–„ç›‘æ§ä½“ç³»
- ä¼˜åŒ–æ•°æ®åº“æ€§èƒ½
- å¢å¼ºå®‰å…¨é˜²æŠ¤

### ä¸­æœŸç›®æ ‡ (6ä¸ªæœˆ)
- æ”¯æŒæ›´å¤šäº¤æ˜“æ¥å£
- å¼•å…¥æœºå™¨å­¦ä¹ ç­–ç•¥
- ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ

### é•¿æœŸç›®æ ‡ (1å¹´)
- äº‘åŸç”Ÿæ¶æ„å‡çº§
- å›½é™…åŒ–æ”¯æŒ
- ç”Ÿæ€åˆä½œä¼™ä¼´

---

*RedFireç³»ç»Ÿæ•´ä½“æ¶æ„ - æ„å»ºç¨³å®šã€é«˜æ•ˆã€å¯æ‰©å±•çš„é‡åŒ–äº¤æ˜“å¹³å°* ğŸ”¥
